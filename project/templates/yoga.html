{% extends "base.html" %}

{% block title %}Yoga Asanas{% endblock %}

{% block content %}
<div class="welcome-header">
    <h3>Yoga Asana Library</h3>
    <p>Select a pose from the list to view it.</p>
</div>

<div class="card-container">
    <div class="yoga-layout">
        <div class="asana-list">
            <h4>Poses</h4>
            <ul>
                {% for asana in asanas %}
                    <li>
                        <a href="#" class="asana-link" data-image="{{ url_for('static', filename='images/yoga/' + asana.img) }}" data-name="{{ asana.name }}" data-desc="{{ asana.desc }}">
                            {{ asana.name }}
                        </a>
                    </li>
                {% endfor %}
            </ul>
        </div>
        <div class="asana-display">
            <img id="asana-image" src="{{ url_for('static', filename='images/yoga/' + asanas[0].img) }}" alt="Yoga Pose">
            <h3 id="asana-name">{{ asanas[0].name }}</h3>
            <p id="asana-desc">{{ asanas[0].desc }}</p>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const links = document.querySelectorAll('.asana-link');
    const imageEl = document.getElementById('asana-image');
    const nameEl = document.getElementById('asana-name');
    const descEl = document.getElementById('asana-desc');

    links.forEach(link => {
        link.addEventListener('click', function(event) {
            event.preventDefault(); // Stop the link from navigating

            // Remove active class from all links
            links.forEach(l => l.classList.remove('active'));
            // Add active class to the clicked link
            this.classList.add('active');

            // Get the data from the clicked link
            const newImage = this.dataset.image;
            const newName = this.dataset.name;
            const newDesc = this.dataset.desc;

            // Update the display area with the new data
            imageEl.src = newImage;
            nameEl.textContent = newName;
            descEl.textContent = newDesc;
        });
    });

    // Set the first link as active by default
    if (links.length > 0) {
        links[0].classList.add('active');
    }
});
</script>
{% endblock %}